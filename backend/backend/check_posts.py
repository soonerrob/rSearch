import asyncio;from sqlalchemy.ext.asyncio import create_async_engine,AsyncSession;from sqlmodel import select;from app.core.config import get_settings;from app.models.reddit_post import RedditPost;async def check_posts():async with AsyncSession(create_async_engine(get_settings().DATABASE_URL)) as session:result=await session.execute(select(RedditPost).where(RedditPost.subreddit_name=="python"));posts=result.scalars().all();print(f"Found {len(posts)} posts for python");[print(f"- {post.title[:100]} (Score: {post.score}, Comments: {post.num_comments})") for post in posts[:5]];asyncio.run(check_posts())
